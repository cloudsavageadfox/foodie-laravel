@using System.Configuration;
@using Core.Entities;
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewBag.title = "Edit Brand";

    Brand brand = ViewBag.brand;
    List<Branch> branches = ViewBag.branches;
}

    <h3>Edit Brand</h3>
    <form action="@Url.Action("UpdateBrand", "Admin")" method="post" id="form">
        <input type="hidden" name="Id" id="brandId" value="@brand.Id" />
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Section</h4>
                <select required class="selectpicker" name="Section" id="section">
                    <option value="@Core.Enums.BrandSection.OurBrands" @(brand.Section == Core.Enums.BrandSection.OurBrands ? "selected" : "")>Our Brands</option>
                    <option value="@Core.Enums.BrandSection.UnderOurCare" @(brand.Section == Core.Enums.BrandSection.UnderOurCare ? "selected" : "")>Our Finds</option>
                    <option value="@Core.Enums.BrandSection.JointVenture" @(brand.Section == Core.Enums.BrandSection.JointVenture ? "selected" : "")>Co-Creations</option>
                    <option value="@Core.Enums.BrandSection.UpcomingConcepts" @(brand.Section == Core.Enums.BrandSection.UpcomingConcepts ? "selected" : "")>Up & Coming</option>
                </select>
            </div>
        </div>
        
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Header Background</h4>
                <div class="form-group">
                    <input type="file" id="header-background" />
                    <span class="material-input"></span>
                </div>
                <input type="hidden" name="BackgroundImage" value="@(!string.IsNullOrEmpty(brand.BackgroundImage) ? brand.BackgroundImage : "")" />
                <input type="hidden" name="BackgroundOriginalName" value="@(!string.IsNullOrEmpty(brand.BackgroundOriginalName) ? brand.BackgroundOriginalName : "")" />
                <div id="header-back-img">
                    @if (!string.IsNullOrEmpty(brand.BackgroundImage))
                    {
                        <img src="@(brand.BackgroundImageUrl)" />
                    }
                </div>
            </div>
        </div>


        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Logo</h4>
                <div class="form-group">
                    <input type="file" id="logo" />
                    <span class="material-input"></span>
                </div>
                <input type="hidden" name="Logo" value="@(!string.IsNullOrEmpty(brand.Logo) ? brand.Logo : "")" />
                <input type="hidden" name="LogoOriginalName" value="@(!string.IsNullOrEmpty(brand.LogoOriginalName) ? brand.LogoOriginalName : "")" />
                <div id="logo-img">
                    @if (!string.IsNullOrEmpty(brand.Logo))
                    {
                        <img src="@(brand.LogoUrl)" />
                    }
                </div>
            </div>
        </div>
    



        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Brand Name</h4>
                <div class="form-group">
                    <input required type="text" class="form-control" id="paragraph-title" name="Title" value="@brand.Title"  />
                    <span class="material-input"></span>
                </div>
            </div>
        </div>

    
        <div class="form-group">
            <h4>Paragraph</h4>
            <textarea required class="form-control" name="Paragraph" id="paragraph">@brand.Paragraph</textarea>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Facebook Link</h4>
                <div class="form-group">
                    <input required class="form-control" placeholder="http://www.example.com" name="FacebookLink" id="facebook-link" value="@brand.FacebookLink"  />
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Twitter Link</h4>
                <div class="form-group">
                    <input required class="form-control" placeholder="http://www.example.com" name="TwitterLink" id="twitter-link" value="@brand.TwitterLink" />
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Instagram Link</h4>
                <div class="form-group">
                    <input required class="form-control" placeholder="http://www.example.com" name="InstagramLink" id="instagram-link" value="@brand.InstagramLink"/>
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Website Link</h4>
                <div class="form-group">
                    <input required class="form-control" placeholder="http://www.example.com" name="WebsiteLink" id="website-link" value="@brand.WebsiteLink" />
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Redirect Link</h4>
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="http://www.example.com" id="redirect-link" name="RedirectLink" value="@brand.RedirectLink" />
                    <span class="material-input"></span>
                </div>
            </div>
        </div>   
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Max Width</h4>
                <div class="form-group">
                    <input required type="text" class="form-control" id="max-width" name="MaxWidth" value="@brand.MaxWidth"/>
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <h4 class="card-title">Branches</h4>
                <div id="branches-grid" class="grid" style="overflow-y:scroll">
                    @foreach (Branch branch in branches)
                    {
                        <div class="text-center updateable grid-item">
                            <div class="text-center updateable grid-inner">
                                <img class="card-display" src="@branch.Image1Url" /><a class="edit-branch" href="#">@branch.ShortAddress</a>
                                <input type="hidden" value="@branch.Address" class="address" /><input type="hidden" value="@branch.ShortAddress" class="short-address" />
                                <input type="hidden" value="@branch.Paragraph" class="paragraph" /><input type="hidden" value="@branch.StoreInfoParagraph" class="store-info-paragraph" />
                                <input type="hidden" value="@branch.BusinessHoursParagraph" class="business-hours-paragraph" /><input type="hidden" value="@branch.InternationalSiteLink" class="international-site-link" />
                                <input type="hidden" value="@branch.FacebookLink" class="facebook-link" /><input type="hidden" value="@branch.TwitterLink" class="twitter-link" />
                                <input type="hidden" value="@branch.InstagramLink" class="instagram-link" /><input type="hidden" value="@branch.Image1" class="img1" />
                                <input type="hidden" value="@branch.ImageOriginalName1" class="img-original1" /><input type="hidden" value="@branch.Image2" class="img2" />
                                <input type="hidden" value="@branch.ImageOriginalName2" class="img-original2" /><input type="hidden" value="@branch.Image3" class="img3" />
                                <input type="hidden" value="@branch.ImageOriginalName3" class="img-original3" /><input type="hidden" value="@branch.Image4" class="img4" />
                                <input type="hidden" value="@branch.ImageOriginalName4" class="img-original4" /><input type="hidden" value="@branch.Image5" class="img5" />
                                <input type="hidden" value="@branch.ImageOriginalName5" class="img-original5" /><input type="hidden" value="@branch.Image1Url" class="image1-url" />
                                <input type="hidden" value="@branch.Image2Url" class="image2-url" /><input type="hidden" value="@branch.Image3Url" class="image3-url" />
                                <input type="hidden" value="@branch.Image4Url" class="image4-url" /><input type="hidden" value="@branch.Image5Url" class="image5-url" />
                                <input type="hidden" value="@branch.Id" name="BranchesIds" class="branch-id" />
                                <input type="hidden" value="@branch.ImageOriginalName6" class="img-original6" /><input type="hidden" value="@branch.Image6" class="img6" />
                                <input type="hidden" value="@branch.ImageOriginalName7" class="img-original7" /><input type="hidden" value="@branch.Image7" class="img7" />
                                <input type="hidden" value="@branch.ImageOriginalName8" class="img-original8" /><input type="hidden" value="@branch.Image8" class="img8" />
                                <input type="hidden" value="@branch.ImageOriginalName9" class="img-original9" /><input type="hidden" value="@branch.Image9" class="img9" />
                                <input type="hidden" value="@branch.ImageOriginalName10" class="img-original10" /><input type="hidden" value="@branch.Image10" class="img10" />
                                <input type="hidden" value="@branch.Image6Url" class="image6-url" /><input type="hidden" value="@branch.Image9Url" class="image9-url" />
                                <input type="hidden" value="@branch.Image7Url" class="image7-url" /><input type="hidden" value="@branch.Image10Url" class="image10-url" />
                                <input type="hidden" value="@branch.Image8Url" class="image8-url" />
                            </div><a href="#" class="remove-branch">Remove</a>
                        </div>
                    }
                </div>

                <div class="card-footer clearfix">
                    <div class="btn-group pull-right">
                        <a href="#" class="btn btn-primary" id="remove-from-slider">Remove</a>
                        <a href="#" class="btn btn-primary" id="add-btn">Add</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix">
            <div class="btn-group pull-right">
                <a href="@Url.Action("BrandsList", "Admin")" class="btn btn-default">Cancel</a>
                <button type="submit" class="btn btn-success">Save Changes</button>
            </div>
        </div>

    </form>


<div id="add-branch-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add branch</h4>
            </div>
            <div class="modal-body">

                <form>
                    <div class="form-group row">
                        <label for="address" class="col-2 col-form-label">Address</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" id="branch-address" name="Address" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="short-address" class="col-2 col-form-label">Short Address</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" id="branch-short-address" name="ShortAddress" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="paragraph" class="col-form-label">Paragraph</label>
           
                            <textarea required class="form-control" name="Paragraph" id="branch-paragraph"></textarea>
           
                    </div>
                    <div class="form-group row">
                        <label for="store-info-paragraph" class="col-2 col-form-label">Store Info Paragraph</label>
                        <div class="col-10">
                            <textarea required class="form-control" name="StoreInfoParagraph" id="store-info-paragraph"></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="business-hours-paragraph" class="col-2 col-form-label">Business Hours Paragraph</label>
                        <div class="col-10">
                            <textarea required class="form-control" name="BusinessHoursParagraph" id="business-hours-paragraph"></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="international-site-link" class="col-2 col-form-label">International Site Link</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" placeholder="http://www.example.com" id="branch-international-site-link" name="InternationalSiteLink" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="facebook-link" class="col-2 col-form-label">Facebook Link</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" placeholder="http://www.example.com" id="branch-facebook-link" name="FacebookLink" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="twitter-link" class="col-2 col-form-label">Twitter Link</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" placeholder="http://www.example.com" id="branch-twitter-link" name="TwitterLink" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="instagram-link" class="col-2 col-form-label">Instagram Link</label>
                        <div class="col-10">
                            <input required type="text" class="form-control" placeholder="http://www.example.com" id="branch-instagram-link" name="InstagramLink" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-xs-6 form-group">
                            <label for="image1" class="col-2 col-form-label">Image 1</label>
                            <div class="col-10">
                                <input type="file" id="image1" />
                            </div>
                            <input type="hidden" id="branch-img1" name="Image1" />
                            <input type="hidden" id="branch-orig1" name="ImageOriginalName1" />
                            <div id="image1-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_1" onclick="deleteBranchimage(this,1, 'branch-img1', 'branch-orig1')">Remove</a>
                            </div>
                            </div>
                        <div class="col-xs-6 form-group">
                            <label for="image2" class="col-2 col-form-label">Image 2</label>
                            <div class="col-10">
                                <input type="file" id="image2" />
                            </div>
                            <input type="hidden" id="branch-img2" name="Image2" />
                            <input type="hidden" id="branch-orig2" name="ImageOriginalName2" />
                            <div id="image2-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_2" onclick="deleteBranchimage(this, 2, 'branch-img2', 'branch-orig2')">Remove</a>
                            </div>
                        </div>
                        </div>
                    <div class="form-group row">
                        <div class="col-xs-6 form-group">
                            <label for="image3" class="col-2 col-form-label">Image 3</label>
                            <div class="col-10">
                                <input type="file" id="image3" />
                            </div>
                            <input type="hidden" id="branch-img3" name="Image3" />
                            <input type="hidden" id="branch-orig3" name="ImageOriginalName3" />
                            <div id="image3-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_3" onclick="deleteBranchimage(this, 3, 'branch-img3', 'branch-orig3')">Remove</a>
                            </div>
                            </div>
                        <div class="col-xs-6 form-group">
                            <label for="image4" class="col-2 col-form-label">Image 4</label>
                            <div class="col-10">
                                <input type="file" id="image4" />
                            </div>
                            <input type="hidden" id="branch-img4" name="Image4" />
                            <input type="hidden" id="branch-orig4" name="ImageOriginalName4" />
                            <div id="image4-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_4" onclick="deleteBranchimage(this, 4, 'branch-img4', 'branch-orig4')">Remove</a>
                            </div>
                            </div>
                        </div>
                    <div class="form-group row">
                        <div class="col-xs-6 form-group">
                        <label for="image5" class="col-2 col-form-label">Image 5</label>
                        <div class="col-10">
                            <input type="file" id="image5" />
                        </div>
                        <input type="hidden" id="branch-img5" name="Image5" />
                        <input type="hidden" id="branch-orig5" name="ImageOriginalName5" />
                        <div id="image5-img">
                            <img src='' style="display:none;" />
                            <a href="#" id="an_5" onclick="deleteBranchimage(this, 5, 'branch-img5', 'branch-orig6')">Remove</a>
                        </div>
                            </div>
                        <div class="col-xs-6 form-group">
                            <label for="image6" class="col-2 col-form-label">Image 6</label>
                            <div class="col-10">
                                <input type="file" id="image6" />
                            </div>
                            <input type="hidden" id="branch-img6" name="Image6" />
                            <input type="hidden" id="branch-orig6" name="ImageOriginalName6" />
                            <div id="image6-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_6" onclick="deleteBranchimage(this, 6, 'branch-img6', 'branch-orig6')">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-xs-6 form-group">
                            <label for="image7" class="col-2 col-form-label">Image 7</label>
                            <div class="col-10">
                                <input type="file" id="image7" />
                            </div>
                            <input type="hidden" id="branch-img7" name="Image7" />
                            <input type="hidden" id="branch-orig7" name="ImageOriginalName7" />
                            <div id="image7-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_7" onclick="deleteBranchimage(this, 7, 'branch-img7', 'branch-orig7')">Remove</a>
                            </div>
                        </div>
                        <div class="col-xs-6 form-group">
                            <label for="image8" class="col-2 col-form-label">Image 8</label>
                            <div class="col-10">
                                <input type="file" id="image8" />
                            </div>
                            <input type="hidden" id="branch-img8" name="Image8" />
                            <input type="hidden" id="branch-orig8" name="ImageOriginalName8" />
                            <div id="image8-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_8" onclick="deleteBranchimage(this, 8, 'branch-img8', 'branch-orig8')">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-xs-6 form-group">
                            <label for="image9" class="col-2 col-form-label">Image 9</label>
                            <div class="col-10">
                                <input type="file" id="image9" />
                            </div>
                            <input type="hidden" id="branch-img9" name="Image9" />
                            <input type="hidden" id="branch-orig9" name="ImageOriginalName9" />
                            <div id="image9-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_9" onclick="deleteBranchimage(this, 9, 'branch-img9', 'branch-orig9')">Remove</a>
                            </div>
                        </div>
                        <div class="col-xs-6 form-group">
                            <label for="image10" class="col-2 col-form-label">Image 10</label>
                            <div class="col-10">
                                <input type="file" id="image10" />
                            </div>
                            <input type="hidden" id="branch-img10" name="Image10" />
                            <input type="hidden" id="branch-orig10" name="ImageOriginalName10" />
                            <div id="image10-img">
                                <img src='' style="display:none;" />
                                <a href="#" id="an_10" onclick="deleteBranchimage(this, 10, 'branch-img10', 'branch-orig10')">Remove</a>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="branch-id" value="" />
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id="save-branch">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<script type="text/javascript" src="@Url.Content("~/Content/js/ckeditor/ckeditor.js")"></script>
<script type="text/javascript">
    var branchesIds = [];
    @foreach (Branch branch in branches)
    {
        <text>
    branchesIds.push(@branch.Id);
    </text>
    }


    var seletedbranchId = "";

    function openModalForEdit(element) {
        var address = element.parent().children(".address").val();
        var shortAddress = element.parent().children(".short-address").val();
        var paragraph = element.parent().children(".paragraph").val();
        var storeInfoParagraph = element.parent().children(".store-info-paragraph").val();
        var businessHoursParagraph = element.parent().children(".business-hours-paragraph").val();
        var internationalSiteLink = element.parent().children(".international-site-link").val();
        var facebookLink = element.parent().children(".facebook-link").val();
        var twitterLink = element.parent().children(".twitter-link").val();
        var instagramLink = element.parent().children(".instagram-link").val();

        var img1 = element.parent().children(".img1").val();
        var imgOrig1 = element.parent().children(".img-original1").val();
        var img2 = element.parent().children(".img2").val();
        var imgOrig2 = element.parent().children(".img-original2").val();
        var img3 = element.parent().children(".img3").val();
        var imgOrig3 = element.parent().children(".img-original3").val();
        var img4 = element.parent().children(".img4").val();
        var imgOrig4 = element.parent().children(".img-original4").val();
        var img5 = element.parent().children(".img5").val();
        var imgOrig5 = element.parent().children(".img-original5").val();

        var img6 = element.parent().children(".img6").val();
        var imgOrig6 = element.parent().children(".img-original6").val();
        var img7 = element.parent().children(".img7").val();
        var imgOrig7 = element.parent().children(".img-original7").val();
        var img8 = element.parent().children(".img8").val();
        var imgOrig8 = element.parent().children(".img-original8").val();
        var img9 = element.parent().children(".img9").val();
        var imgOrig9 = element.parent().children(".img-original9").val();
        var img10 = element.parent().children(".img10").val();
        var imgOrig10 = element.parent().children(".img-original10").val();

        var img1src = element.parent().children(".image1-url").val();
        var img2src = element.parent().children(".image2-url").val();
        var img3src = element.parent().children(".image3-url").val();
        var img4src = element.parent().children(".image4-url").val();
        var img5src = element.parent().children(".image5-url").val();
        var img6src = element.parent().children(".image6-url").val();
        var img7src = element.parent().children(".image7-url").val();
        var img8src = element.parent().children(".image8-url").val();
        var img9src = element.parent().children(".image9-url").val();
        var img10src = element.parent().children(".image10-url").val();

        var branchId = element.parent().children(".branch-id").val();
        seletedbranchId = branchId;
        $("#branch-address").val(address);
        $("#branch-short-address").val(shortAddress);
        $("#branch-paragraph").val(paragraph);
        $("#store-info-paragraph").val(storeInfoParagraph);
        $("#business-hours-paragraph").val(businessHoursParagraph);
        $("#branch-international-site-link").val(internationalSiteLink);
        $("#branch-facebook-link").val(facebookLink);
        $("#branch-twitter-link").val(twitterLink);
        $("#branch-instagram-link").val(instagramLink);
        $("#branch-img1").val(img1);
        $("#branch-orig1").val(imgOrig1);
        $("#branch-img2").val(img2);
        $("#branch-orig2").val(imgOrig2);
        $("#branch-img3").val(img3);
        $("#branch-orig3").val(imgOrig3);
        $("#branch-img4").val(img4);
        $("#branch-orig4").val(imgOrig4);
        $("#branch-img5").val(img5);
        $("#branch-orig5").val(imgOrig5);

        $("#branch-img6").val(img6);
        $("#branch-orig6").val(imgOrig6);
        $("#branch-img7").val(img7);
        $("#branch-orig7").val(imgOrig7);
        $("#branch-img9").val(img9);
        $("#branch-orig9").val(imgOrig9);
        $("#branch-img8").val(img8);
        $("#branch-orig8").val(imgOrig8);
        $("#branch-img10").val(img10);
        $("#branch-orig10").val(imgOrig10);

        $("#image1-img").children("img").attr("src", img1src + "?w=100&h=100&mode=crop");
        $("#image1-img").children("img").css("display", "block");
        if (img2src != "") {
            $("#image2-img").children("img").attr("src", img2src + "?w=100&h=100&mode=crop");
            $("#image2-img").children("img").css("display", "block");
        } else {
            $("#image2-img").children("img").css("display", "none");
        }
        if (img3src != "") {
            $("#image3-img").children("img").attr("src", img3src + "?w=100&h=100&mode=crop");
            $("#image3-img").children("img").css("display", "block");
        } else {
            $("#image3-img").children("img").css("display", "none");
        }
        if (img4src != "") {
            $("#image4-img").children("img").attr("src", img4src + "?w=100&h=100&mode=crop");
            $("#image4-img").children("img").css("display", "block");
        } else {
            $("#image4-img").children("img").css("display", "none");
        }
        if (img5src != "") {
            $("#image5-img").children("img").attr("src", img5src + "?w=100&h=100&mode=crop");
            $("#image5-img").children("img").css("display", "block");
        } else {
            $("#image5-img").children("img").css("display", "none");
        }

        if (img6src != "") {
            $("#image6-img").children("img").attr("src", img6src + "?w=100&h=100&mode=crop");
            $("#image6-img").children("img").css("display", "block");
        } else {
            $("#image6-img").children("img").css("display", "none");
        }

        if (img7src != "") {
            $("#image7-img").children("img").attr("src", img7src + "?w=100&h=100&mode=crop");
            $("#image7-img").children("img").css("display", "block");
        } else {
            $("#image7-img").children("img").css("display", "none");
        }
        if (img8src != "") {
            $("#image8-img").children("img").attr("src", img8src + "?w=100&h=100&mode=crop");
            $("#image8-img").children("img").css("display", "block");
        } else {
            $("#image8-img").children("img").css("display", "none");
        }

        if (img9src != "") {
            $("#image9-img").children("img").attr("src", img9src + "?w=100&h=100&mode=crop");
            $("#image9-img").children("img").css("display", "block");
        } else {
            $("#image9-img").children("img").css("display", "none");
        }
        if (img10src != "") {
            $("#image10-img").children("img").attr("src", img10src + "?w=100&h=100&mode=crop");
            $("#image10-img").children("img").css("display", "block");
        } else {
            $("#image10-img").children("img").css("display", "none");
        }



        $("#branch-id").val(branchId);

        $("#add-branch-modal").modal("show");
    }

    function openModalForAdd() {
        $("#branch-address").val("");
        $("#branch-short-address").val("");
        $("#branch-paragraph").val("");
        $("#store-info-paragraph").val("");
        $("#business-hours-paragraph").val("");
        $("#branch-international-site-link").val("");
        $("#branch-facebook-link").val("");
        $("#branch-twitter-link").val("");
        $("#branch-instagram-link").val("");
        $("#branch-img1").val("");
        $("#branch-orig1").val("");
        $("#branch-img2").val("");
        $("#branch-orig2").val("");
        $("#branch-img3").val("");
        $("#branch-orig3").val("");
        $("#branch-img4").val("");
        $("#branch-orig4").val("");
        $("#branch-img5").val("");
        $("#branch-orig5").val("");
        $("#image1-img").children("img").attr("src", "");
        $("#image1-img").children("img").css("display", "none");
        $("#image2-img").children("img").attr("src", "");
        $("#image2-img").children("img").css("display", "none");
        $("#image3-img").children("img").attr("src", "");
        $("#image3-img").children("img").css("display", "none");
        $("#image4-img").children("img").attr("src", "");
        $("#image4-img").children("img").css("display", "none");
        $("#image5-img").children("img").attr("src", "");
        $("#image5-img").children("img").css("display", "none");




        $("#branch-img6").val("");
        $("#branch-orig6").val("");
        $("#branch-img7").val("");
        $("#branch-orig7").val("");
        $("#branch-img8").val("");
        $("#branch-orig8").val("");
        $("#branch-img9").val("");
        $("#branch-orig9").val("");
        $("#branch-img10").val("");
        $("#branch-orig10").val("");
        $("#image6-img").children("img").attr("src", "");
        $("#image6-img").children("img").css("display", "none");
        $("#image7-img").children("img").attr("src", "");
        $("#image7-img").children("img").css("display", "none");
        $("#image8-img").children("img").attr("src", "");
        $("#image8-img").children("img").css("display", "none");
        $("#image9-img").children("img").attr("src", "");
        $("#image9-img").children("img").css("display", "none");
        $("#image10-img").children("img").attr("src", "");
        $("#image10-img").children("img").css("display", "none");






        $("#branch-id").val("");

        $("#add-branch-modal").modal("show");
    }
    // add by jaswant for delete branch image
    function deleteBranchimage(obj,id, imgname, orgname) {
        var imgid = id;
        var col1 = "image_" + id
        var col2 = "image_original_name_" + id
        id = seletedbranchId;
        debugger
        var imgcolname = $("#" + imgname).val();
        var imgorgcolname = $("#" + orgname).val();

        $.ajax({
            type: "GET",
            url: "/Admin/DeleteBranchImg",
            data: { branchId: id, col1: col1, col2: col2, imgName: imgcolname, imgorgName: imgorgcolname },
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                debugger;
                alert(result.FoodList);
                if (result.FoodList == true)
                {
                    $("#image" + imgid + "-img").children("img").css("display", "none");

                    $(obj).hide();
                } else {

                }
               
            },
            error: function (response) {
                debugger;
                alert('eror');
            }
        });


    }
    function deleteBranch(element) {
        element.parent().remove();
        debugger
        var branchId = element.parent().children(".grid-inner").children(".branch-id").val();

        for (var i = 0; i < branchesIds.length; i++) {
            debugger
            if (branchesIds[i] == branchId) {
                branchesIds = branchesIds.splice(i, 1);
                debugger

              //  return;
            }
        }
        debugger
        $.post(
            "@Url.Action("DeleteBranch", "Admin")",
            {
            id: branchId
            },
            function () {}
        );



        var $el = $('#image1');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image2');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image3');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image4');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image5');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image6');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image7');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image8');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image9');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image10');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
    }

    $(document).ready(function () {
        setFileUploader("#header-background", "@Url.Action("SoloUpload", "Image")", "BackgroundImage", "BackgroundOriginalName", "#header-back-img", false);
        setFileUploader("#logo", "@Url.Action("SoloUpload", "Image")", "Logo", "LogoOriginalName", "#logo-img", false);

        CKEDITOR.replace("paragraph");

        setBranchImageUploader("#image1", "@Url.Action("SoloUpload", "Image")", "Image1", "ImageOriginalName1", "#image1-img", false);
        setBranchImageUploader("#image2", "@Url.Action("SoloUpload", "Image")", "Image2", "ImageOriginalName2", "#image2-img", false);
        setBranchImageUploader("#image3", "@Url.Action("SoloUpload", "Image")", "Image3", "ImageOriginalName3", "#image3-img", false);
        setBranchImageUploader("#image4", "@Url.Action("SoloUpload", "Image")", "Image4", "ImageOriginalName4", "#image4-img", false);
        setBranchImageUploader("#image5", "@Url.Action("SoloUpload", "Image")", "Image5", "ImageOriginalName5", "#image5-img", false);

        setBranchImageUploader("#image6", "@Url.Action("SoloUpload", "Image")", "Image6", "ImageOriginalName6", "#image6-img", false);
        setBranchImageUploader("#image7", "@Url.Action("SoloUpload", "Image")", "Image7", "ImageOriginalName7", "#image7-img", false);
        setBranchImageUploader("#image8", "@Url.Action("SoloUpload", "Image")", "Image8", "ImageOriginalName8", "#image8-img", false);
        setBranchImageUploader("#image9", "@Url.Action("SoloUpload", "Image")", "Image9", "ImageOriginalName9", "#image9-img", false);
        setBranchImageUploader("#image10", "@Url.Action("SoloUpload", "Image")", "Image10", "ImageOriginalName10", "#image10-img", false);

        $("#add-btn").click(function () {
            openModalForAdd();
        });

        $(".edit-branch").click(function () {
            openModalForEdit($(this));
        });

        $(".remove-branch").click(function () {
            deleteBranch($(this));
        });

        $("#save-branch").click(function () {
            var address = $("#branch-address").val();
            var shortAddress = $("#branch-short-address").val();
            var paragraph = $("#branch-paragraph").val();
            var storeInfoParagraph = $("#store-info-paragraph").val();
            var businessHoursParagraph = $("#business-hours-paragraph").val();
            var internationalSiteLink = $("#branch-international-site-link").val();
            var facebookLink = $("#branch-facebook-link").val();
            var twitterLink = $("#branch-twitter-link").val();
            var instagramLink = $("#branch-instagram-link").val();

            var img1 = $("#branch-img1").val();
            var imgOrig1 = $("#branch-orig1").val();
            var img2 = $("#branch-img2").val();
            var imgOrig2 = $("#branch-orig2").val();
            var img3 = $("#branch-img3").val();
            var imgOrig3 = $("#branch-orig3").val();
            var img4 = $("#branch-img4").val();
            var imgOrig4 = $("#branch-orig4").val();
            var img5 = $("#branch-img5").val();
            var imgOrig5 = $("#branch-orig5").val();

            var img6 = $("#branch-img6").val();
            var imgOrig6 = $("#branch-orig6").val();
            var img7 = $("#branch-img7").val();
            var imgOrig7 = $("#branch-orig7").val();
            var img8 = $("#branch-img8").val();
            var imgOrig8 = $("#branch-orig8").val();
            var img9 = $("#branch-img9").val();
            var imgOrig9 = $("#branch-orig9").val();
            var img10 = $("#branch-img10").val();
            var imgOrig10 = $("#branch-orig10").val();

            if (address == "" || shortAddress == "" ) {
                alert("Please check all the input fields!");

                return;
            }
            //if (address == "" || shortAddress == "" || paragraph == "" ||
            //    storeInfoParagraph == "" || businessHoursParagraph == "" ||
            //    internationalSiteLink == "" || facebookLink == "" ||
            //    twitterLink == "" || instagramLink == "" ||
            //    img1 == "") {
            //    alert("Please check all the input fields!");

            //    return;
            //}

            var branchId = $("#branch-id").val();
            var brandId = $("#brandId").val();
            if (branchId == "") {
                $.post(
                    "@Url.Action("AddBranch", "Admin")",
                    {
                    address: address,
                        shortAddress: shortAddress,
                        paragraph: paragraph,
                        storeInfoParagraph: storeInfoParagraph,
                        businessHoursParagraph: businessHoursParagraph,
                        internationalSiteLink: internationalSiteLink,
                        facebookLink: facebookLink,
                        twitterLink: twitterLink,
                        instagramLink: instagramLink,
                        img1: img1,
                        imgOrig1: imgOrig1,
                        img2: img2,
                        imgOrig2: imgOrig2,
                        img3: img3,
                        imgOrig3: imgOrig3,
                        img4: img4,
                        imgOrig4: imgOrig4,
                        img5: img5,
                        imOrig5: imgOrig5,
                        img6: img6,
                        imgOrig6: imgOrig6,
                        img7: img7,
                        imgOrig7: imgOrig7,
                        img8: img8,
                        imgOrig8: imgOrig8,
                        img9: img9,
                        imgOrig9: imgOrig9,
                        img10: img10,
                        imOrig10: imgOrig10,
                        brandId: brandId
                    },
                    function (res) {
                    if (res.result) {
                        var imageUrl = $("#image1-img").children("img").attr("src");
                        var image2 = $("#image2-img").children("img").attr("src");
                        var image3 = $("#image3-img").children("img").attr("src");
                        var image4 = $("#image4-img").children("img").attr("src");
                        var image5 = $("#image5-img").children("img").attr("src");

                        var image6 = $("#image6-img").children("img").attr("src");
                        var image7 = $("#image7-img").children("img").attr("src");
                        var image8 = $("#image8-img").children("img").attr("src");
                        var image9 = $("#image9-img").children("img").attr("src");
                        var image10 = $("#image10-img").children("img").attr("src");


                            $("#branches-grid").append("<div class=\"text-center updateable grid-item\">" +
                                "<div class=\"text-center updateable grid-inner\"><img class=\"card-display\" src=\"" + imageUrl + "\" /><a class=\"edit-branch\" href=\"#\">" + shortAddress + "</a>" +
                                "<input type=\"hidden\" value=\"" + address + "\" class=\"address\" /><input type=\"hidden\" value=\"" + shortAddress + "\" class=\"short-address\" />" +
                                "<input type=\"hidden\" value=\"" + paragraph + "\" class=\"paragraph\" /><input type=\"hidden\" value=\"" + storeInfoParagraph + "\" class=\"store-info-paragraph\" />" +
                                "<input type=\"hidden\" value=\"" + businessHoursParagraph + "\" class=\"business-hours-paragraph\" /><input type=\"hidden\" value=\"" + internationalSiteLink + "\" class=\"international-site-link\" />" +
                                "<input type=\"hidden\" value=\"" + facebookLink + "\" class=\"facebook-link\" /><input type=\"hidden\" value=\"" + twitterLink + "\" class=\"twitter-link\" />" +
                                "<input type=\"hidden\" value=\"" + instagramLink + "\" class=\"instagram-link\" /><input type=\"hidden\" value=\"" + img1 + "\" class=\"img1\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig1 + "\" class=\"img-original1\" /><input type=\"hidden\" value=\"" + img2 + "\" class=\"img2\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig2 + "\" class=\"img-original2\" /><input type=\"hidden\" value=\"" + img3 + "\" class=\"img3\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig3 + "\" class=\"img-original3\" /><input type=\"hidden\" value=\"" + img4 + "\" class=\"img4\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig4 + "\" class=\"img-original4\" /><input type=\"hidden\" value=\"" + img5 + "\" class=\"img5\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig5 + "\" class=\"img-original5\" /><input type=\"hidden\" value=\"" + imageUrl + "\" class=\"image1-url\" />" +
                                "<input type=\"hidden\" value=\"" + image2 + "\" class=\"image2-url\" /><input type=\"hidden\" value=\"" + image3 + "\" class=\"image3-url\" />" +
                                "<input type=\"hidden\" value=\"" + image4 + "\" class=\"image4-url\" /><input type=\"hidden\" value=\"" + image5 + "\" class=\"image5-url\" />" +
                                "<input type=\"hidden\" value=\"" + image6 + "\" class=\"image6-url\" /><input type=\"hidden\" value=\"" + image7 + "\" class=\"image7-url\" />" +
                                "<input type=\"hidden\" value=\"" + image8 + "\" class=\"image8-url\" /><input type=\"hidden\" value=\"" + image9 + "\" class=\"image9-url\" />" +
                                "<input type=\"hidden\" value=\"" + image10 + "\" class=\"image10-url\" /><input type=\"hidden\" value=\"" + img6 + "\" class=\"img6\" />" +
                                "<input type=\"hidden\" value=\"" + imgOrig6 + "\" class=\"img-original6\" /><input type=\"hidden\" value=\"" + imgOrig7 + "\" class=\"img-original7\" />" +
                                  "<input type=\"hidden\" value=\"" + imgOrig8 + "\" class=\"img-original8\" /><input type=\"hidden\" value=\"" + imgOrig9 + "\" class=\"img-original9\" />" +
                                    "<input type=\"hidden\" value=\"" + imgOrig10 + "\" class=\"img-original10\" /><input type=\"hidden\" value=\"" + img7 + "\" class=\"img7\" />" +
                                    "<input type=\"hidden\" value=\"" + img8 + "\" class=\"img8\" /><input type=\"hidden\" value=\"" + img10 + "\" class=\"img10\" /><input type=\"hidden\" value=\"" + img9 + "\" class=\"img9\" />" +

                                "<input type=\"hidden\" value=\"" + res.id + "\" name=\"BranchesIds\" class=\"branch-id\" /></div><a href=\"#\" class=\"remove-branch\">Remove</a></div>");
                            branchesIds.push(res.id);
                            $(".edit-branch").off();
                            $(".edit-branch").click(function () {
                            openModalForEdit($(this));
                        });

                            $(".remove-branch").off();
                            $(".remove-branch").click(function () {
                            deleteBranch($(this));
                        });

                            $("#add-branch-modal").modal("hide");
                    }
                }
                );
            } else {
                $.post(
                    "@Url.Action("UpdateBranch", "Admin")",
                    {
                    address: address,
                        shortAddress: shortAddress,
                        paragraph: paragraph,
                        storeInfoParagraph: storeInfoParagraph,
                        businessHoursParagraph: businessHoursParagraph,
                        internationalSiteLink: internationalSiteLink,
                        facebookLink: facebookLink,
                        twitterLink: twitterLink,
                        instagramLink: instagramLink,
                        img1: img1,
                        imgOrig1: imgOrig1,
                        img2: img2,
                        imgOrig2: imgOrig2,
                        img3: img3,
                        imgOrig3: imgOrig3,
                        branchId: branchId,
                        img4: img4,
                        imgOrig4: imgOrig4,
                        img5: img5,
                        imgOrig5: imgOrig5,
                        img6: img6,
                        imgOrig6: imgOrig6,
                        img7: img7,
                        imgOrig7: imgOrig7,
                        img8: img8,
                        imgOrig8: imgOrig8,
                        img9: img9,
                        imgOrig9: imgOrig9,
                        img10: img10,
                        imgOrig10: imgOrig10,
                        brandId: brandId
                    },
                    function (res) {
                    if (res.result) {
                        var imageUrl = $("#image1-img").children("img").attr("src");
                        var image2 = $("#image2-img").children("img").attr("src");
                        var image3 = $("#image3-img").children("img").attr("src");
                        var image4 = $("#image4-img").children("img").attr("src");
                        var image5 = $("#image5-img").children("img").attr("src");
                        var image6 = $("#image6-img").children("img").attr("src");
                        var image7 = $("#image7-img").children("img").attr("src");
                        var image8 = $("#image8-img").children("img").attr("src");
                        var image9 = $("#image9-img").children("img").attr("src");
                        var image10 = $("#image10-img").children("img").attr("src");

                            $(".branch-id").each(function () {
                            if ($(this).val() == branchId) {
                                var div = $(this).parent();

                                div.children(".address").val(address);
                                div.children(".short-adress").val(shortAddress);
                                div.children(".paragraph").val(paragraph);
                                div.children(".store-info-paragraph").val(storeInfoParagraph);
                                div.children(".business-hours-paragraph").val(businessHoursParagraph);
                                div.children(".international-site-link").val(internationalSiteLink);
                                div.children(".facebook-link").val(facebookLink);
                                div.children(".twitter-link").val(twitterLink);
                                div.children(".instagram-link").val(instagramLink);
                                div.children(".img1").val(img1);
                                div.children(".img-original1").val(imgOrig1);
                                div.children(".img2").val(img2);
                                div.children(".img-original2").val(imgOrig2);
                                div.children(".img3").val(img3);
                                div.children(".img-original3").val(imgOrig3);
                                div.children(".img4").val(img4);
                                div.children(".img-original4").val(imgOrig4);
                                div.children(".img5").val(img5);
                                div.children(".img-original5").val(imgOrig5);
                                div.children(".image1-url").val(imageUrl);
                                div.children(".image2-url").val(image2);
                                div.children(".image3-url").val(image3);
                                div.children(".image4-url").val(image4);
                                div.children(".image5-url").val(image5);
                                //==
                                div.children(".img6").val(img6);
                                div.children(".img-original6").val(imgOrig6);
                                div.children(".img7").val(img7);
                                div.children(".img-original7").val(imgOrig7);
                                div.children(".img8").val(img8);
                                div.children(".img-original8").val(imgOrig8);
                                div.children(".img9").val(img9);
                                div.children(".img-original9").val(imgOrig9);
                                div.children(".img9").val(img9);
                                div.children(".img-original10").val(imgOrig10);
                                div.children(".image6-url").val(image6);
                                div.children(".image7-url").val(image7);
                                div.children(".image8-url").val(image8);
                                div.children(".image9-url").val(image9);
                                div.children(".image10-url").val(image10);
                                div.children("img").attr("src", imageUrl);

                                return false;
                            }
                        });

                            $(".edit-branch").off();
                            $(".edit-branch").click(function () {
                            openModalForEdit($(this));
                        });

                            $(".remove-branch").off();
                            $(".remove-branch").click(function () {
                            deleteBranch($(this));
                        });

                            $("#add-branch-modal").modal("hide");
                    }
                }
                );
            }
        });

        $("#form").submit(function (e) {
            e.preventDefault();
            $("#form").off();
            var ids = "";
            if (branchesIds.length > 0) {
                for (var i = 0; i < branchesIds.length; i++) {
                    ids = ids + branchesIds[i];
                    if (i != (branchesIds.length - 1)) {
                        ids += " ";
                    }
                }
            }
            $("#form").append($("<input />").attr("type", "hidden").attr("name", "BranchesIdsStr").val(ids));

            $("#form").submit();
        });



        var $el = $('#image1');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image2');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image3');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image4');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image5');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image6');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image7');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image8');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image9');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
        $el = $('#image10');
        $el.wrap('<form>').closest('form').get(0).reset();
        $el.unwrap();
    });
</script>
<script src="@Url.Content("~/Content/turbo/assets/vendors/jquery.select-bootstrap.js")"></script>